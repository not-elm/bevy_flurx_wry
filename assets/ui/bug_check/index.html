<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="index.css" rel="stylesheet" type="text/css">
</head>
<body>
<div>
    <button id="copy-file">copy file</button>
    <img src="https://secure-dcdn.cdn.nimg.jp/nicoaccount/usericon/9749/97491199.jpg?1730550703"/>
    <a href="./sample.txt" download="sample.txt">download sample.txt</a>
    <div class="flex">
        <button id="new-window">
            new window
        </button>
        <button id="navigation">
            navigation
        </button>
        <button id="navigation-remote">
            navigation remote
        </button>
    </div>

    <div>
        <div class="flex">
            <p>appName:</p>
            <p id="appName"></p>
        </div>

        <div class="flex">
            <p>appVersion:</p>
            <p id="appVersion"></p>
        </div>

        <button id="exit-btn">
            app::exit
        </button>

        <div class="flex">
            <input id="println-message" type="text">
            <button id="println-btn">println</button>
        </div>
    </div>

    <script>
        document.getElementById("copy-file").onclick = async () => {
            console.log(await window.__FLURX__.fs.removeDir(
                "simpleblack.pat",
                {
                    dir: "Download",
                    recursive: true,
                }
            ))
        }
        document.getElementById("navigation").onclick = () => {
            window.location = "./second.html";
        };
        document.getElementById("navigation-remote").onclick = () => {
            window.location = "https://developer.mozilla.org";
        };
        document.getElementById("new-window").onclick = () => {
            window.open("./second.html")
        };
        document.getElementById("exit-btn").onclick = async () => {
            await window.__FLURX__.app.exit();
        };
        const message = document.getElementById("println-message");
        document.getElementById("println-btn").onclick = async () => {
            window.__FLURX__.log.println(message.value);
        };
        (async () => {
            document.getElementById("appName").innerText = await window.__FLURX__.app.getName();
            document.getElementById("appVersion").innerText = await window.__FLURX__.app.getVersion();
        })();
        window.__FLURX__.listen("test_event", ({message}) => {
            console.log(`event emitted ${message}`);
        });
    </script>
</div>
</body>
</html>