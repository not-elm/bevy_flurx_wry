var __FLURX_IIFE__=function(i){"use strict";const a=(i,a=null)=>new Promise(((e,n)=>{const s=t(),o=`_${s}`;window.ipc.postMessage(JSON.stringify((a=>null==a?{type:"Command",message:{id:i,resolve_id:s}}:{type:"Command",message:{id:i,args:JSON.stringify(a),resolve_id:s}})(a))),Object.defineProperty(window.__FLURX__,o,{value:i=>{Reflect.deleteProperty(window.__FLURX__,o),(i=>!(!i||i&&"object"!=typeof i)&&void 0!==i.Ok)(i)?e(i.Ok):(i=>!(!i||i&&"object"!=typeof i)&&void 0!==i.Err)(i)?n(i.Err):e(i)},writable:!1,configurable:!0})})),e=(i,a)=>{window.ipc.postMessage(JSON.stringify({type:"Event",message:{event_id:i,payload:JSON.stringify(a)}}))},t=()=>window.crypto.getRandomValues(new Uint32Array(1))[0];var n,s,o,w,r,c,d;i.app=void 0,(n=i.app||(i.app={})).getName=()=>a("FLURX|app::get_name"),n.getVersion=()=>a("FLURX|app::get_version"),n.exit=()=>a("FLURX|app::exit"),i.log=void 0,(i.log||(i.log={})).println=i=>e("FLURX|log::println",{message:i}),i.fs=void 0,(s=i.fs||(i.fs={})).copyFile=async(i,e,t)=>{await a("FLURX|fs::copy_file",{from:i,to:e,...t})},s.createDir=async(i,e)=>{await a("FLURX|fs::create_dir",{path:i,...e})},s.exists=async(i,e)=>await a("FLURX|fs::exists",{path:i,...e}),s.readBinaryFile=async(i,e)=>await a("FLURX|fs::read_binary_file",{path:i,...e}),s.readTextFile=async(i,e)=>await a("FLURX|fs::read_text_file",{path:i,...e}),s.removeFile=async(i,e)=>{await a("FLURX|fs::remove_file",{path:i,...e})},s.renameFile=async(i,e,t)=>{await a("FLURX|fs::rename_file",{oldPath:i,newPath:e,...t})},s.writeTextFile=async(i,e,t)=>{await a("FLURX|fs::write_text_file",{path:i,contents:e,...t})},s.writeBinaryFile=async(i,e,t)=>{await a("FLURX|fs::write_binary_file",{path:i,contents:e,...t})},s.readDir=async(i,e)=>await a("FLURX|fs::read_dir",{path:i,...e}),s.removeDir=async(i,e)=>{await a("FLURX|fs::remove_dir",{path:i,...e})},i.dialog=void 0,(o=i.dialog||(i.dialog={})).ask=async(i,e)=>await a("FLURX|dialog::ask",{questionMessage:i,...e}),o.confirm=async(i,e)=>await a("FLURX|dialog::confirm",{questionMessage:i,...e}),o.message=async(i,e)=>{await a("FLURX|dialog::message",{questionMessage:i,...e})},o.open=async i=>{const e=await a("FLURX|dialog::open",i);return t=e,t?.Single?e.Single:e.Multiple;var t},o.save=async i=>await a("FLURX|dialog::save",{...i}),i.path=void 0,(w=i.path||(i.path={})).config=async()=>await a("FLURX|path::config"),w.configLocal=async()=>await a("FLURX|path::config_local"),w.data=async()=>await a("FLURX|path::data"),w.dataLocal=async()=>await a("FLURX|path::data_local"),w.audio=async()=>await a("FLURX|path::audio"),w.cache=async()=>await a("FLURX|path::cache"),w.desktop=async()=>await a("FLURX|path::desktop"),w.document=async()=>await a("FLURX|path::document"),w.download=async()=>await a("FLURX|path::download"),w.executable=async()=>await a("FLURX|path::executable"),w.publicDir=async()=>await a("FLURX|path::public"),w.runtime=async()=>await a("FLURX|path::runtime"),w.temp=async()=>await a("FLURX|path::temp"),w.template=async()=>await a("FLURX|path::template"),w.video=async()=>await a("FLURX|path::video"),w.home=async()=>await a("FLURX|path::home"),w.picture=async()=>await a("FLURX|path::picture"),i.clipboard=void 0,(r=i.clipboard||(i.clipboard={})).getText=async()=>await a("FLURX|clipboard::get_text"),r.setText=async i=>{await a("FLURX|clipboard::set_text",i)},i.notification=void 0,(i.notification||(i.notification={})).send=async(i,e)=>{await a("FLURX|notification::send",{message:i,...e})},i.os=void 0,(c=i.os||(i.os={})).arch=async()=>await a("FLURX|os::arch"),c.family=async()=>await a("FLURX|os::family"),c.version=async()=>await a("FLURX|os::os_version"),c.longOsVersion=async()=>await a("FLURX|os::long_os_version"),c.kernelVersion=async()=>await a("FLURX|os::kernel_version"),c.systemName=async()=>await a("FLURX|os::system_name"),c.hostName=async()=>await a("FLURX|os::host_name"),c.locale=async()=>await a("FLURX|os::locale"),i.monitor=void 0,(d=i.monitor||(i.monitor={})).availables=async()=>await a("FLURX|monitor::availables"),d.current=async()=>await a("FLURX|monitor::current"),d.primary=async()=>await a("FLURX|monitor::primary");class _{constructor(i){this.identifier=i}listen(i,a){const e=`_event_${this.identifier}_${i}`;return Object.defineProperty(window.__FLURX__,e,{value:a,writable:!1,configurable:!0}),()=>{Reflect.deleteProperty(window.__FLURX__,e)}}async title(){return await a("FLURX|web_window::title",this.identifier)}async center(){await a("FLURX|web_window::center",this.identifier)}async hide(){await a("FLURX|web_window::hide",this.identifier)}async show(){await a("FLURX|web_window::show",this.identifier)}async innerSize(){return await a("FLURX|web_window::inner_size",this.identifier)}async isDecorated(){return await a("FLURX|web_window::is_decorated",this.identifier)}async hasFocused(){return await a("FLURX|web_window::is_focused",this.identifier)}async isFullscreen(){return await a("FLURX|web_window::is_fullscreen",this.identifier)}async isMaximized(){return await a("FLURX|web_window::is_maximized",this.identifier)}async isMaximizable(){return await a("FLURX|web_window::is_maximizable",this.identifier)}async isMinimizable(){return await a("FLURX|web_window::is_minimizable",this.identifier)}async isMinimized(){return await a("FLURX|web_window::is_minimized",this.identifier)}async isResizable(){return await a("FLURX|web_window::is_resizable",this.identifier)}async isVisible(){return await a("FLURX|web_window::is_visible",this.identifier)}async maximize(){await a("FLURX|web_window::maximize",this.identifier)}async unMaximize(){await a("FLURX|web_window::un_maximize",this.identifier)}async minimize(){await a("FLURX|web_window::minimize",this.identifier)}async unMinimize(){await a("FLURX|web_window::un_minimize",this.identifier)}async setDecorations(i){await a("FLURX|web_window::set_decorations",[this.identifier,i])}async focus(){await a("FLURX|web_window::focus",this.identifier)}async unFocus(){await a("FLURX|web_window::un_focus",this.identifier)}async setWindowMode(i){await a("FLURX|web_window::set_window_mode",[this.identifier,i])}async setCursorHitTest(i){await a("FLURX|web_window::set_cursor_hit_test",[this.identifier,i])}static current(){return new _(window.__FLURX__.windowIdentifier)}}return i.WebWindow=_,i.__emitEvent=(i,a,e)=>{window.__FLURX__[`_event_${i}_${a}`]?.(e)},i.__resolveIpc=(i,a)=>{window.__FLURX__[`_${i}`]?.(a)},i.emit=e,i.invoke=a,i}({});Object.defineProperty(window,"__FLURX__",{value:__FLURX_IIFE__});
