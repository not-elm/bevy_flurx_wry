var __FLURX_IIFE__=function(i){"use strict";const e=(i,e=null)=>new Promise(((a,n)=>{const s=t(),r=`_${s}`;window.ipc.postMessage(JSON.stringify((e=>null==e?{type:"Command",message:{id:i,resolve_id:s}}:{type:"Command",message:{id:i,args:JSON.stringify(e),resolve_id:s}})(e))),Object.defineProperty(window.__FLURX__,r,{value:i=>{Reflect.deleteProperty(window.__FLURX__,r),(i=>!(!i||i&&"object"!=typeof i)&&void 0!==i.Ok)(i)?a(i.Ok):(i=>!(!i||i&&"object"!=typeof i)&&void 0!==i.Err)(i)?n(i.Err):a(i)},writable:!1,configurable:!0})})),a=(i,e)=>{window.ipc.postMessage(JSON.stringify({type:"Event",message:{event_id:i,payload:JSON.stringify(e)}}))},t=()=>window.crypto.getRandomValues(new Uint32Array(1))[0];var n=Object.freeze({__proto__:null,exit:()=>e("FLURX|app::exit"),getName:()=>e("FLURX|app::get_name"),getVersion:()=>e("FLURX|app::get_version")});var s=Object.freeze({__proto__:null,println:i=>a("FLURX|log::println",{message:i})});var r=Object.freeze({__proto__:null,copyFile:async(i,a,t)=>{await e("FLURX|fs::copy_file",{from:i,to:a,...t})},createDir:async(i,a)=>{await e("FLURX|fs::create_dir",{path:i,...a})},exists:async(i,a)=>await e("FLURX|fs::exists",{path:i,...a}),readBinaryFile:async(i,a)=>await e("FLURX|fs::read_binary_file",{path:i,...a}),readDir:async(i,a)=>await e("FLURX|fs::read_dir",{path:i,...a}),readTextFile:async(i,a)=>await e("FLURX|fs::read_text_file",{path:i,...a}),removeDir:async(i,a)=>{await e("FLURX|fs::remove_dir",{path:i,...a})},removeFile:async(i,a)=>{await e("FLURX|fs::remove_file",{path:i,...a})},renameFile:async(i,a,t)=>{await e("FLURX|fs::rename_file",{oldPath:i,newPath:a,...t})},writeBinaryFile:async(i,a,t)=>{await e("FLURX|fs::write_binary_file",{path:i,contents:a,...t})},writeTextFile:async(i,a,t)=>{await e("FLURX|fs::write_text_file",{path:i,contents:a,...t})}});var o=Object.freeze({__proto__:null,ask:async(i,a)=>await e("FLURX|dialog::ask",{questionMessage:i,...a}),confirm:async(i,a)=>await e("FLURX|dialog::confirm",{questionMessage:i,...a}),message:async(i,a)=>{await e("FLURX|dialog::message",{questionMessage:i,...a})},open:async i=>{const a=await e("FLURX|dialog::open",i);return t=a,t?.Single?a.Single:a.Multiple;var t},save:async i=>await e("FLURX|dialog::save",i)});var w=Object.freeze({__proto__:null,audio:async()=>await e("FLURX|path::audio"),cache:async()=>await e("FLURX|path::cache"),config:async()=>await e("FLURX|path::config"),configLocal:async()=>await e("FLURX|path::config_local"),data:async()=>await e("FLURX|path::data"),dataLocal:async()=>await e("FLURX|path::data_local"),desktop:async()=>await e("FLURX|path::desktop"),document:async()=>await e("FLURX|path::document"),download:async()=>await e("FLURX|path::download"),executable:async()=>await e("FLURX|path::executable"),home:async()=>await e("FLURX|path::home"),picture:async()=>await e("FLURX|path::picture"),publicDir:async()=>await e("FLURX|path::public"),runtime:async()=>await e("FLURX|path::runtime"),temp:async()=>await e("FLURX|path::temp"),template:async()=>await e("FLURX|path::template"),video:async()=>await e("FLURX|path::video")});var c=Object.freeze({__proto__:null,getText:async()=>await e("FLURX|clipboard::get_text"),setText:async i=>{await e("FLURX|clipboard::set_text",i)}});var _=Object.freeze({__proto__:null,send:async(i,a)=>{await e("FLURX|notification::send",{message:i,...a})}});var d=Object.freeze({__proto__:null,arch:async()=>await e("FLURX|os::arch"),family:async()=>await e("FLURX|os::family"),hostName:async()=>await e("FLURX|os::host_name"),kernelVersion:async()=>await e("FLURX|os::kernel_version"),locale:async()=>await e("FLURX|os::locale"),longOsVersion:async()=>await e("FLURX|os::long_os_version"),systemName:async()=>await e("FLURX|os::system_name"),version:async()=>await e("FLURX|os::os_version")});var l=Object.freeze({__proto__:null,availables:async()=>await e("FLURX|monitor::availables"),current:async()=>await e("FLURX|monitor::current"),primary:async()=>await e("FLURX|monitor::primary")});class y{constructor(i){this.identifier=i}async title(){return await e("FLURX|web_window::title",this.identifier)}async center(){await e("FLURX|web_window::center",this.identifier)}async hide(){await e("FLURX|web_window::hide",this.identifier)}async show(){await e("FLURX|web_window::show",this.identifier)}async innerSize(){return await e("FLURX|web_window::inner_size",this.identifier)}async isDecorated(){return await e("FLURX|web_window::is_decorated",this.identifier)}async hasFocused(){return await e("FLURX|web_window::is_focused",this.identifier)}async isFullscreen(){return await e("FLURX|web_window::is_fullscreen",this.identifier)}async isMaximized(){return await e("FLURX|web_window::is_maximized",this.identifier)}async isMaximizable(){return await e("FLURX|web_window::is_maximizable",this.identifier)}async isMinimizable(){return await e("FLURX|web_window::is_minimizable",this.identifier)}async isMinimized(){return await e("FLURX|web_window::is_minimized",this.identifier)}async isResizable(){return await e("FLURX|web_window::is_resizable",this.identifier)}async isVisible(){return await e("FLURX|web_window::is_visible",this.identifier)}async maximize(){await e("FLURX|web_window::maximize",this.identifier)}async unMaximize(){await e("FLURX|web_window::un_maximize",this.identifier)}async minimize(){await e("FLURX|web_window::minimize",this.identifier)}async unMinimize(){await e("FLURX|web_window::un_minimize",this.identifier)}async setDecorations(i){await e("FLURX|web_window::set_decorations",[this.identifier,i])}async focus(){await e("FLURX|web_window::focus",this.identifier)}async unFocus(){await e("FLURX|web_window::un_focus",this.identifier)}async setWindowMode(i){await e("FLURX|web_window::set_window_mode",[this.identifier,i])}async setCursorHitTest(i){await e("FLURX|web_window::set_cursor_hit_test",[this.identifier,i])}static current(){return new y("<CURRENT_IDENTIFIER>")}}return i.WebWindow=y,i.__emitEvent=(i,e)=>{window.__FLURX__[`_event_${i}`]?.(e)},i.__resolveIpc=(i,e)=>{window.__FLURX__[`_${i}`]?.(e)},i.app=n,i.clipboard=c,i.dialog=o,i.emit=a,i.fs=r,i.invoke=e,i.listen=(i,e)=>{const a=`_event_${i}`;return Object.defineProperty(window.__FLURX__,a,{value:e,writable:!1,configurable:!0}),()=>{Reflect.deleteProperty(window.__FLURX__,a)}},i.log=s,i.monitor=l,i.notification=_,i.os=d,i.path=w,i}({});Object.defineProperty(window,"__FLURX__",{value:__FLURX_IIFE__});
